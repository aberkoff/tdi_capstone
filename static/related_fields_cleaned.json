{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"color": {"field": "has_value", "scale": {"range": ["#e377c2", "#f7b6d2"]}, "sort": [true, false], "type": "nominal"}, "order": {"field": "has_value", "sort": "descending", "type": "nominal"}, "tooltip": [{"field": "num_books", "type": "quantitative"}], "x": {"aggregate": "sum", "axis": {"format": "%"}, "field": "fraction", "scale": {"domain": [0, 1]}, "sort": [true, false], "stack": "zero", "title": "Fraction of Books with Feature Present", "type": "quantitative"}, "y": {"field": "feature", "sort": {"field": "sort_val", "op": "max", "order": "descending"}, "type": "ordinal"}}, "title": "Data for each field in Related Books (147908 total books)"}, {"mark": {"type": "text", "align": "right", "dx": -5, "dy": 1}, "encoding": {"color": {"condition": {"value": "white", "test": "datum.sort_val > .1"}, "value": "#a55194"}, "opacity": {"condition": {"value": 1, "test": "datum.sort_val > 0"}, "value": 0}, "text": {"field": "sort_val", "format": ".2%", "type": "quantitative"}, "x": {"field": "label_loc", "type": "quantitative"}, "y": {"field": "feature", "sort": {"field": "sort_val", "op": "max", "order": "descending"}, "type": "ordinal"}}, "title": "Data for each field in Related Books (147908 total books)"}], "data": {"name": "data-7070eb4b91ff49f92fc2d83ee1cf061e"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-7070eb4b91ff49f92fc2d83ee1cf061e": [{"num_books": 0, "feature": "audioId", "has_value": false, "fraction": 0.0, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0, "feature": "genres", "has_value": false, "fraction": 0.0, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0, "feature": "subjects", "has_value": false, "fraction": 0.0, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 1693, "feature": "author", "has_value": false, "fraction": 0.011446304459528897, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 1693, "feature": "normalized_author", "has_value": false, "fraction": 0.011446304459528897, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0, "feature": "consumptionFormat", "has_value": false, "fraction": 0.0, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0, "feature": "contentType", "has_value": false, "fraction": 0.0, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 120, "feature": "publicationDate", "has_value": false, "fraction": 0.0008113151418449306, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0, "feature": "primaryLanguage", "has_value": false, "fraction": 0.0, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0, "feature": "format", "has_value": false, "fraction": 0.0, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0, "feature": "title", "has_value": false, "fraction": 0.0, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 664, "feature": "subtitle", "has_value": false, "fraction": 0.004489277118208616, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 11815, "feature": "description", "has_value": false, "fraction": 0.0798807366741488, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0, "feature": "isbns", "has_value": false, "fraction": 0.0, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0, "feature": "audiences", "has_value": false, "fraction": 0.0, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0, "feature": "subjectHeadings", "has_value": false, "fraction": 0.0, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 3213, "feature": "jacket.small", "has_value": false, "fraction": 0.021722962922898017, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 3213, "feature": "jacket.medium", "has_value": false, "fraction": 0.021722962922898017, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 3213, "feature": "jacket.large", "has_value": false, "fraction": 0.021722962922898017, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 55568, "feature": "rating.averageRating", "has_value": false, "fraction": 0.3756929983503259, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 55568, "feature": "rating.totalCount", "has_value": false, "fraction": 0.3756929983503259, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 147908, "feature": "audioId", "has_value": true, "fraction": 1.0, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 147908, "feature": "genres", "has_value": true, "fraction": 1.0, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 147908, "feature": "subjects", "has_value": true, "fraction": 1.0, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 146215, "feature": "author", "has_value": true, "fraction": 0.9885536955404711, "sort_val": 0.9885536955404711, "label_loc": 0.9885536955404711}, {"num_books": 146215, "feature": "normalized_author", "has_value": true, "fraction": 0.9885536955404711, "sort_val": 0.9885536955404711, "label_loc": 0.9885536955404711}, {"num_books": 147908, "feature": "consumptionFormat", "has_value": true, "fraction": 1.0, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 147908, "feature": "contentType", "has_value": true, "fraction": 1.0, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 147788, "feature": "publicationDate", "has_value": true, "fraction": 0.999188684858155, "sort_val": 0.999188684858155, "label_loc": 0.999188684858155}, {"num_books": 147908, "feature": "primaryLanguage", "has_value": true, "fraction": 1.0, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 147908, "feature": "format", "has_value": true, "fraction": 1.0, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 147908, "feature": "title", "has_value": true, "fraction": 1.0, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 147244, "feature": "subtitle", "has_value": true, "fraction": 0.9955107228817914, "sort_val": 0.9955107228817914, "label_loc": 0.9955107228817914}, {"num_books": 136093, "feature": "description", "has_value": true, "fraction": 0.9201192633258513, "sort_val": 0.9201192633258513, "label_loc": 0.9201192633258513}, {"num_books": 147908, "feature": "isbns", "has_value": true, "fraction": 1.0, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 147908, "feature": "audiences", "has_value": true, "fraction": 1.0, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 147908, "feature": "subjectHeadings", "has_value": true, "fraction": 1.0, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 144695, "feature": "jacket.small", "has_value": true, "fraction": 0.978277037077102, "sort_val": 0.978277037077102, "label_loc": 0.978277037077102}, {"num_books": 144695, "feature": "jacket.medium", "has_value": true, "fraction": 0.978277037077102, "sort_val": 0.978277037077102, "label_loc": 0.978277037077102}, {"num_books": 144695, "feature": "jacket.large", "has_value": true, "fraction": 0.978277037077102, "sort_val": 0.978277037077102, "label_loc": 0.978277037077102}, {"num_books": 92340, "feature": "rating.averageRating", "has_value": true, "fraction": 0.6243070016496741, "sort_val": 0.6243070016496741, "label_loc": 0.6243070016496741}, {"num_books": 92340, "feature": "rating.totalCount", "has_value": true, "fraction": 0.6243070016496741, "sort_val": 0.6243070016496741, "label_loc": 0.6243070016496741}]}}