{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"color": {"field": "has_value", "scale": {"range": ["#e377c2", "#f7b6d2"]}, "sort": [true, false], "type": "nominal"}, "order": {"field": "has_value", "sort": "descending", "type": "nominal"}, "x": {"aggregate": "sum", "axis": {"format": "%"}, "field": "num_books", "scale": {"domain": [0, 1]}, "sort": [true, false], "stack": "zero", "title": "Fraction of Books with Feature Present", "type": "quantitative"}, "y": {"field": "feature", "sort": {"field": "sort_val", "op": "max", "order": "descending"}, "type": "ordinal"}}, "title": "Data for each field in Related Books (151242 total books)"}, {"mark": {"type": "text", "align": "right", "dx": -5, "dy": 1}, "encoding": {"color": {"condition": {"value": "white", "test": "datum.sort_val > .2"}, "value": "#a55194"}, "opacity": {"condition": {"value": 1, "test": "datum.sort_val > 0"}, "value": 0}, "text": {"field": "sort_val", "format": ".2%", "type": "quantitative"}, "x": {"field": "label_loc", "type": "quantitative"}, "y": {"field": "feature", "sort": {"field": "sort_val", "op": "max", "order": "descending"}, "type": "ordinal"}}, "title": "Data for each field in Related Books (151242 total books)"}], "data": {"name": "data-02becfec9022cbe5e48dd3c526f2073d"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-02becfec9022cbe5e48dd3c526f2073d": [{"num_books": 0.0, "feature": "superFormats", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "genreForm", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.002955528226286349, "feature": "callNumber", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "authors", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "metadataId", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.9998809854405523, "feature": "multiscriptAuthor", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "audiences", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "consumptionFormat", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "contentType", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.9999669404001534, "feature": "multiscriptTitle", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "compositeSubjectHeadings", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "series", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "format", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.004463045979291467, "feature": "subtitle", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "title", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 2.6447679877282764e-05, "feature": "primaryLanguage", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0008066542362571244, "feature": "publicationDate", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "id", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.08077782626519088, "feature": "description", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "isbns", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "subjectHeadings", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.42537125930627734, "feature": "edition", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "jacket.type", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.02345248013118049, "feature": "jacket.small", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.02345248013118049, "feature": "jacket.medium", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.02345248013118049, "feature": "jacket.large", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.9486121579984396, "feature": "jacket.local_url", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.3720196770738287, "feature": "rating.averageRating", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.3720196770738287, "feature": "rating.totalCount", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0, "feature": "audioId", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 1.0, "feature": "superFormats", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 1.0, "feature": "genreForm", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 0.9970444717737137, "feature": "callNumber", "has_value": true, "sort_val": 0.9970444717737137, "label_loc": 0.9970444717737137}, {"num_books": 1.0, "feature": "authors", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 1.0, "feature": "metadataId", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 0.00011901455944777245, "feature": "multiscriptAuthor", "has_value": true, "sort_val": 0.00011901455944777245, "label_loc": 0.11011901455944777}, {"num_books": 1.0, "feature": "audiences", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 1.0, "feature": "consumptionFormat", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 1.0, "feature": "contentType", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 3.3059599846603456e-05, "feature": "multiscriptTitle", "has_value": true, "sort_val": 3.3059599846603456e-05, "label_loc": 0.1100330595998466}, {"num_books": 1.0, "feature": "compositeSubjectHeadings", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 1.0, "feature": "series", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 1.0, "feature": "format", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 0.9955369540207085, "feature": "subtitle", "has_value": true, "sort_val": 0.9955369540207085, "label_loc": 0.9955369540207085}, {"num_books": 1.0, "feature": "title", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 0.9999735523201227, "feature": "primaryLanguage", "has_value": true, "sort_val": 0.9999735523201227, "label_loc": 0.9999735523201227}, {"num_books": 0.9991933457637429, "feature": "publicationDate", "has_value": true, "sort_val": 0.9991933457637429, "label_loc": 0.9991933457637429}, {"num_books": 1.0, "feature": "id", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 0.9192221737348091, "feature": "description", "has_value": true, "sort_val": 0.9192221737348091, "label_loc": 0.9192221737348091}, {"num_books": 1.0, "feature": "isbns", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 1.0, "feature": "subjectHeadings", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 0.5746287406937226, "feature": "edition", "has_value": true, "sort_val": 0.5746287406937226, "label_loc": 0.5746287406937226}, {"num_books": 1.0, "feature": "jacket.type", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 0.9765475198688195, "feature": "jacket.small", "has_value": true, "sort_val": 0.9765475198688195, "label_loc": 0.9765475198688195}, {"num_books": 0.9765475198688195, "feature": "jacket.medium", "has_value": true, "sort_val": 0.9765475198688195, "label_loc": 0.9765475198688195}, {"num_books": 0.9765475198688195, "feature": "jacket.large", "has_value": true, "sort_val": 0.9765475198688195, "label_loc": 0.9765475198688195}, {"num_books": 0.051387842001560415, "feature": "jacket.local_url", "has_value": true, "sort_val": 0.051387842001560415, "label_loc": 0.16138784200156042}, {"num_books": 0.6279803229261713, "feature": "rating.averageRating", "has_value": true, "sort_val": 0.6279803229261713, "label_loc": 0.6279803229261713}, {"num_books": 0.6279803229261713, "feature": "rating.totalCount", "has_value": true, "sort_val": 0.6279803229261713, "label_loc": 0.6279803229261713}, {"num_books": 1.0, "feature": "audioId", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}]}}