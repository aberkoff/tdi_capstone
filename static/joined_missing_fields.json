{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "bar", "encoding": {"color": {"field": "has_value", "scale": {"range": ["#9467bd", "#c5b0d5"]}, "sort": [true, false], "type": "nominal"}, "order": {"field": "has_value", "sort": "descending", "type": "nominal"}, "x": {"aggregate": "sum", "axis": {"format": "%"}, "field": "num_books", "scale": {"domain": [0, 1]}, "sort": [true, false], "stack": "zero", "title": "Fraction of Books with Feature Present", "type": "quantitative"}, "y": {"field": "feature", "sort": {"field": "sort_val", "op": "max", "order": "descending"}, "type": "ordinal"}}, "title": "Data from Joined Table"}, {"mark": {"type": "text", "align": "right", "dx": -5, "dy": 1}, "encoding": {"color": {"condition": {"value": "white", "test": "datum.sort_val > .1"}, "value": "#a55194"}, "opacity": {"condition": {"value": 1, "test": "datum.sort_val > 0"}, "value": 0}, "text": {"field": "sort_val", "format": ".2%", "type": "quantitative"}, "x": {"field": "label_loc", "type": "quantitative"}, "y": {"field": "feature", "sort": {"field": "sort_val", "op": "max", "order": "descending"}, "type": "ordinal"}}, "title": "Data from Joined Table"}], "data": {"name": "data-9a3ea9984481b258a7c4fc3eaeebcde9"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-9a3ea9984481b258a7c4fc3eaeebcde9": [{"num_books": 0.0, "feature": "title", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.5339247140479478, "feature": "subtitle", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 3.5412018839194025e-05, "feature": "language", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.2980098445412373, "feature": "book_len", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0006374163391054924, "feature": "publisher_year", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.0003010021601331492, "feature": "publisher", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.003293317752045044, "feature": "description", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.011845320301710401, "feature": "audiences", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.023000106236056517, "feature": "author", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.02861291122206877, "feature": "performers", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.049328942242997276, "feature": "jacket.small", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.049328942242997276, "feature": "jacket.medium", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.049328942242997276, "feature": "jacket.large", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.05262225999504232, "feature": "isbns", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.10797124544070258, "feature": "loc_call_nos", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.12047168809093807, "feature": "dewey_call_nos", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.020308792804277772, "feature": "subjects", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 0.2434930415382981, "feature": "genres", "has_value": false, "sort_val": 0.0, "label_loc": 0.11}, {"num_books": 1.0, "feature": "title", "has_value": true, "sort_val": 1.0, "label_loc": 1.0}, {"num_books": 0.4660752859520521, "feature": "subtitle", "has_value": true, "sort_val": 0.4660752859520521, "label_loc": 0.4660752859520521}, {"num_books": 0.9999645879811608, "feature": "language", "has_value": true, "sort_val": 0.9999645879811608, "label_loc": 0.9999645879811608}, {"num_books": 0.7019901554587628, "feature": "book_len", "has_value": true, "sort_val": 0.7019901554587628, "label_loc": 0.7019901554587628}, {"num_books": 0.9993625836608945, "feature": "publisher_year", "has_value": true, "sort_val": 0.9993625836608945, "label_loc": 0.9993625836608945}, {"num_books": 0.9996989978398668, "feature": "publisher", "has_value": true, "sort_val": 0.9996989978398668, "label_loc": 0.9996989978398668}, {"num_books": 0.996706682247955, "feature": "description", "has_value": true, "sort_val": 0.996706682247955, "label_loc": 0.996706682247955}, {"num_books": 0.9881546796982896, "feature": "audiences", "has_value": true, "sort_val": 0.9881546796982896, "label_loc": 0.9881546796982896}, {"num_books": 0.9769998937639435, "feature": "author", "has_value": true, "sort_val": 0.9769998937639435, "label_loc": 0.9769998937639435}, {"num_books": 0.9713870887779312, "feature": "performers", "has_value": true, "sort_val": 0.9713870887779312, "label_loc": 0.9713870887779312}, {"num_books": 0.9506710577570028, "feature": "jacket.small", "has_value": true, "sort_val": 0.9506710577570028, "label_loc": 0.9506710577570028}, {"num_books": 0.9506710577570028, "feature": "jacket.medium", "has_value": true, "sort_val": 0.9506710577570028, "label_loc": 0.9506710577570028}, {"num_books": 0.9506710577570028, "feature": "jacket.large", "has_value": true, "sort_val": 0.9506710577570028, "label_loc": 0.9506710577570028}, {"num_books": 0.9473777400049577, "feature": "isbns", "has_value": true, "sort_val": 0.9473777400049577, "label_loc": 0.9473777400049577}, {"num_books": 0.8920287545592974, "feature": "loc_call_nos", "has_value": true, "sort_val": 0.8920287545592974, "label_loc": 0.8920287545592974}, {"num_books": 0.8795283119090619, "feature": "dewey_call_nos", "has_value": true, "sort_val": 0.8795283119090619, "label_loc": 0.8795283119090619}, {"num_books": 0.9796912071957222, "feature": "subjects", "has_value": true, "sort_val": 0.9796912071957222, "label_loc": 0.9796912071957222}, {"num_books": 0.7565069584617019, "feature": "genres", "has_value": true, "sort_val": 0.7565069584617019, "label_loc": 0.7565069584617019}]}}